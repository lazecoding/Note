# 网络层

- 目录
    - [转发和路由选择](#转发和路由选择)

网络层提供了路由和寻址的功能，使两终端系统能够互连且决定最佳路径，并具有一定的拥塞控制和流量控制的能力。

### 转发和路由选择

网络层的作用是将分组从一台主机移动到另一个主机，因此需要两个极其重要的功能：转发和路由选择。

- `转发`：当一个分组到达路由器的一条输入链路时，路由器必须将该分组移动到适当的输出链路。
- `路由选择`：当分组从发送方流向接收方时，网络层必须决定这些分组所采用的路由或路径，即`路由选择算法`.。

每台路由器都具有一张`转发表`，路由器通过检查到达分组首部字段的值来转发分组，然后使用该值在路由器的转发表中索引查询。存储在转发表项目中的该首部的值指出了该分组将被转发的路由器的输出链路接口。

`分组交换机`是一台通用分组交换设备，它根据分组首部字段中的值，从输入链路接口到输出链路接口转移分组。基于链路层字段中的值决定转发的分组交换机叫做`链路层交换机`，其余分组交换机称为`路由器`，基于网络层字段中的值做转发决定。

因特网的网络层提供了`尽力而为`的网络服务，其实就是没特殊服务，分组发送和接收顺序是无法保证的，发送的分组也不一定能够最终交付，它是一种简化的网络层服务。

### 虚电路和数据表网络

仅在网络层提供连接服务的网络称为`虚电路网络`，仅在网络层提供无连接服务的网络被称为`数据报网络`。

因特网是个数据报网络，每当一个端系统要发送分组，它就为该分组加上目的端系统的地址，然后将该分组推进网络中。分组从源到目标通过一系列路由器传递，这些路由器没台都使用分组的目的地址来转发该分组。

### 路由器

通用路由器体系结构：

<div align="left">
    <img src="https://github.com/lazecoding/Note/blob/main/images/network/通用路由器体系结构.png" width="600px">
</div>