# 执行流程

一条 SQL 究竟是如何执行的，这是我们需要了解的。

### 体系结构 

总体上，我们可以把 MySQL 数据库分成三层，跟客户端对接的是连接层，真正执行操作的是服务（Server）层，和跟硬件打交道的存储引擎层。

<div align="left">
    <img src="https://github.com/lazecoding/Note/blob/main/images/mysql/体系结构.png" width="600px">
</div>

客户端要连接到 MySQL 服务器 3306 端口（默认端口），必须要跟服务端建立连接，管理所有的连接，验证客户端的身份和权限，这些功能就在连接层完成。

连接层会把 SQL 语句交给服务层，这里面又包含一系列的流程，包括连接器、查询缓存、分析器、优化器、执行器等，涵盖 MySQL 的大多数核心服务功能，所有跨存储引擎的功能都在这一层实现，比如存储过程、触发器、视图等。

存储引擎就是我们的数据真正存放的地方，MySQL 数据库支持插件式存储引擎，直接与内存、磁盘交互。

#### 连接器

#### 查询缓存

#### 分析器

#### 优化器

####  执行器